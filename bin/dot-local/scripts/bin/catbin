#!/usr/bin/env bash

# Usage: catbin something_in_your_path
#
# Basically just `cat "$(which foo)"`. Useful for seeing the source code of a
# file in your path.
#
# borrowed from Evan Hahn

set -e
set -u

if [[ $# != 1 ]]; then
  echo 'usage: catbin something_in_your_path' >&2
  exit 1
fi

if hash bat 2>/dev/null; then
  cat_command=bat
else
  # shellcheck disable=SC2209
  cat_command=cat
fi

exec "$cat_command" "$(command -v "$1")"
