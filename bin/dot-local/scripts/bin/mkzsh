#!/usr/bin/env bash
#
# Usage: mkzsh foo.zsh
#
# Creates a file, marks it as executable, and adds a zsh shebang.
#
# borrowed from Evan Hahn, modified for zsh

set -e
set -u
set -o pipefail

if [ ! $# -eq 1 ]; then
  echo 'mkzsh takes one argument' 1>&2
  exit 1
elif [ -e "$1" ]; then
  echo "$1 already exists" 1>&2
  exit 1
fi

echo '#!/usr/bin/env zsh
set -e
set -u
set -o pipefail

' > "$1"

chmod u+x "$1"

"$EDITOR" "$1"
